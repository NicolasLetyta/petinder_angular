

<div class="container-fluid">
  <div class="row">
    <div id="gallery" class="col-md-9">
      <div class="gallery">
        @if (pets$ | async; as pets ) {
        @for (pet of pets | nameFilter:searchText; track pet.id){
        <div
          class="gallery-pet fader"
          [class.active]="pet === selectedPet"
          (click)="selectPet(pet)"
        >
          <img
            class="profile-picture"
            [src]="'https://pettinder.herokuapp.com/'+ pet.image"
          >
          <div class="overlay">
            <div class="overlay-text">{{pet.name}}</div>
          </div>
        </div>
        }
        }
      </div>

    </div>


    <div class="col-md-3">
      <div class="gallery-detail">

        <app-pet-profile-form (petsChanged)="refreshPets()" ></app-pet-profile-form>
<!--   When petsChanged (marked with @Output) in app-pet-profile-form emits an event, pets$ (marked with input)
   listens in parent component. petsCanged in child component is then bound to refreshpets() in parent component
   eacht time an output is emitted, rereshpets() is called (?)
   what about multiple inputs and outputs??-->

        <section class="tiny-dialog">
          <h3>Find your pet</h3>
          <div class="form-group">
            <label for="name">Name</label>
            <input id="name"
                   name="name"
                   class="form-control"
                   placeholder="Name"
                   [(ngModel)]="searchText">
          </div>
        </section>

        @if (isPetSelected()){
        <section id="petProfile" class="tiny-dialog fader">
          <h3>{{ selectedPet.name }}</h3>
          <p>{{selectedPet.profileText}}</p>
        </section>
        }

      </div>
    </div>
  </div>
</div>




